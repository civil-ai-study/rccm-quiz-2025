{% extends 'base.html' %}
{% block title %}使い方ガイド | RCCM試験問題集{% endblock %}

{% block content %}
<div class="container mt-4 mb-5">
    <!-- ヘッダー -->
    <div class="text-center mb-5">
        <h1 class="display-4 mb-3">📖 RCCM試験問題集の使い方</h1>
        <p class="lead text-muted">このアプリの基本的な使い方を説明します</p>
    </div>

    <!-- クイックスタート -->
    <div class="card border-primary mb-4 shadow-sm">
        <div class="card-header bg-primary text-white">
            <h3 class="mb-0">🚀 すぐに始めたい方へ（3ステップ）</h3>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-4 mb-3">
                    <div class="quick-start-step">
                        <div class="step-number">1</div>
                        <h5>部門を選ぶ</h5>
                        <p>13の専門部門から自分の受験する部門を選択してください。</p>
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <div class="quick-start-step">
                        <div class="step-number">2</div>
                        <h5>問題を解く</h5>
                        <p>表示された問題に対して、A〜Dの選択肢から答えを選んでください。</p>
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <div class="quick-start-step">
                        <div class="step-number">3</div>
                        <h5>結果を確認</h5>
                        <p>正解・不正解と解説が表示されます。復習登録もできます。</p>
                    </div>
                </div>
            </div>
            <div class="text-center mt-3">
                <a href="/departments" class="btn btn-primary btn-lg">問題を始める</a>
            </div>
        </div>
    </div>

    <!-- 基本的な使い方 -->
    <div class="card mb-4 shadow-sm">
        <div class="card-header bg-success text-white">
            <h3 class="mb-0">📚 基本的な使い方</h3>
        </div>
        <div class="card-body">
            <div class="help-section">
                <h4 class="help-title">1️⃣ 部門の選択</h4>
                <p>トップページから受験する専門部門を選択します。以下の13部門から選べます：</p>
                <ul class="department-list">
                    <li>道路</li>
                    <li>河川・砂防・海岸・海洋</li>
                    <li>港湾及び空港</li>
                    <li>電力土木</li>
                    <li>上水道・工業用水道</li>
                    <li>下水道</li>
                    <li>農業土木</li>
                    <li>森林土木</li>
                    <li>造園</li>
                    <li>都市計画</li>
                    <li>地質</li>
                    <li>土質及び基礎</li>
                    <li>鋼構造及びコンクリート</li>
                </ul>
            </div>

            <div class="help-section">
                <h4 class="help-title">2️⃣ 問題の種類を選択</h4>
                <p>各部門では以下の2種類の問題が選べます：</p>
                <ul>
                    <li><strong>基礎科目</strong>：全部門共通の基礎知識を問う問題</li>
                    <li><strong>専門科目</strong>：各部門に特化した専門的な問題</li>
                </ul>
            </div>

            <div class="help-section">
                <h4 class="help-title">3️⃣ 問題を解く</h4>
                <p>画面に表示された問題文を読み、選択肢A〜Dの中から正しいと思う答えを選んでください。</p>
                <ul>
                    <li>選択肢をクリックして「解答する」ボタンを押してください</li>
                    <li>一度解答すると変更できませんのでご注意ください</li>
                </ul>
            </div>

            <div class="help-section">
                <h4 class="help-title">4️⃣ 結果と解説を確認</h4>
                <p>解答後、すぐに正解・不正解が大きく表示されます：</p>
                <ul>
                    <li><span class="badge bg-success">✓ 正解！</span> 正解した場合は緑色で表示されます</li>
                    <li><span class="badge bg-purple">△ 惜しい！</span> 不正解の場合は紫色で表示され、正しい答えも表示されます</li>
                    <li>解説が表示されるので、しっかり読んで理解を深めましょう</li>
                </ul>
            </div>

            <div class="help-section">
                <h4 class="help-title">5️⃣ 次の問題へ</h4>
                <p>「次の問題へ」ボタンを押すと、次の問題に進みます。10問解くと結果画面が表示されます。</p>
            </div>
        </div>
    </div>

    <!-- 便利な機能 -->
    <div class="card mb-4 shadow-sm">
        <div class="card-header bg-info text-white">
            <h3 class="mb-0">✨ 便利な機能</h3>
        </div>
        <div class="card-body">
            <div class="help-section">
                <h4 class="help-title">📌 復習登録機能</h4>
                <p>間違えた問題や重要な問題を復習リストに登録できます：</p>
                <ul>
                    <li>解答後の画面で「復習登録」または「復習必須」ボタンを押してください</li>
                    <li>登録した問題は後からまとめて復習できます</li>
                </ul>
            </div>

            <div class="help-section">
                <h4 class="help-title">📊 統計機能</h4>
                <p>学習の進捗状況を確認できます：</p>
                <ul>
                    <li><strong>全体統計</strong>：全部門の正答率や学習履歴を確認できます</li>
                    <li><strong>部門別統計</strong>：各部門ごとの成績を詳しく見ることができます</li>
                    <li>自分の得意分野・苦手分野がわかります</li>
                </ul>
            </div>

            <div class="help-section">
                <h4 class="help-title">🔖 ブックマーク機能</h4>
                <p>重要な問題にブックマークを付けて、後で簡単に見返すことができます。</p>
            </div>

            <div class="help-section">
                <h4 class="help-title">🔄 この問題をもう一度</h4>
                <p>同じ問題をすぐにもう一度解くことができます。理解を深めるのに便利です。</p>
            </div>
        </div>
    </div>

    <!-- よくある質問 -->
    <div class="card mb-4 shadow-sm">
        <div class="card-header bg-warning">
            <h3 class="mb-0">❓ よくある質問</h3>
        </div>
        <div class="card-body">
            <div class="faq-item">
                <h5 class="faq-question">Q1. 問題は何問ありますか？</h5>
                <p class="faq-answer">基礎科目が約200問、専門科目が各部門約300〜400問あります。過去問題（2008年〜2019年）を中心に収録しています。</p>
            </div>

            <div class="faq-item">
                <h5 class="faq-question">Q2. 途中で中断しても大丈夫ですか？</h5>
                <p class="faq-answer">はい、大丈夫です。いつでも中断して、また別の時間に続きから始められます。</p>
            </div>

            <div class="faq-item">
                <h5 class="faq-question">Q3. スマートフォンでも使えますか？</h5>
                <p class="faq-answer">はい、スマートフォンやタブレットでも快適に使えます。画面サイズに合わせて自動的に表示が最適化されます。</p>
            </div>

            <div class="faq-item">
                <h5 class="faq-question">Q4. 間違えた問題だけを復習したいのですが？</h5>
                <p class="faq-answer">解答後に「復習登録」または「復習必須」ボタンを押して登録しておくと、後でまとめて復習できます。</p>
            </div>

            <div class="faq-item">
                <h5 class="faq-question">Q5. 成績は記録されますか？</h5>
                <p class="faq-answer">はい、解答履歴は自動的に記録されます。統計ページから学習の進捗状況を確認できます。</p>
            </div>

            <div class="faq-item">
                <h5 class="faq-question">Q6. 複数の部門を勉強できますか？</h5>
                <p class="faq-answer">はい、できます。いつでも部門を切り替えて、複数の部門を学習できます。</p>
            </div>
        </div>
    </div>

    <!-- 学習のコツ -->
    <div class="card mb-4 shadow-sm">
        <div class="card-header bg-success text-white">
            <h3 class="mb-0">💡 効果的な学習方法</h3>
        </div>
        <div class="card-body">
            <div class="help-section">
                <h5>🎯 おすすめの学習手順</h5>
                <ol class="learning-tips">
                    <li><strong>まず全体を把握</strong>：各問題を一通り解いて、出題傾向を理解しましょう</li>
                    <li><strong>間違えた問題を復習</strong>：不正解だった問題は必ず復習登録して、解説をよく読みましょう</li>
                    <li><strong>繰り返し学習</strong>：同じ問題を何度も解いて、確実に身につけましょう</li>
                    <li><strong>統計で進捗確認</strong>：定期的に統計ページで成長を確認しましょう</li>
                    <li><strong>苦手分野を重点的に</strong>：統計から苦手分野を見つけて、重点的に学習しましょう</li>
                </ol>
            </div>

            <div class="help-section mt-4">
                <h5>⏰ 学習時間の目安</h5>
                <ul>
                    <li>1回の学習：10〜30分程度（スキマ時間でOK）</li>
                    <li>1日の目安：20〜50問程度</li>
                    <li>試験までの期間：2〜3ヶ月前から始めるのがおすすめです</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- 困った時は -->
    <div class="alert alert-info">
        <h5 class="alert-heading">🆘 困った時は？</h5>
        <p>画面が正しく表示されない、問題が進まないなどの不具合がありましたら：</p>
        <ul class="mb-0">
            <li><strong>ページの再読み込み</strong>：ブラウザの更新ボタンを押してみてください</li>
            <li><strong>ブラウザを変更</strong>：Chrome、Safari、Edgeなどの最新版ブラウザをお使いください</li>
            <li><strong>キャッシュのクリア</strong>：ブラウザのキャッシュ（一時ファイル）を削除してみてください</li>
        </ul>
    </div>

    <!-- 戻るボタン -->
    <div class="text-center mt-5">
        <a href="/" class="btn btn-outline-primary btn-lg px-5">ホームに戻る</a>
    </div>
</div>

<style>
/* ヘルプページ専用スタイル */
.quick-start-step {
    text-align: center;
    padding: 30px 20px;
    background-color: #f8f9fa;
    border-radius: 15px;
    height: 100%;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.quick-start-step:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.1);
}

.step-number {
    display: inline-block;
    width: 60px;
    height: 60px;
    line-height: 60px;
    background: linear-gradient(135deg, #0d6efd 0%, #0a58ca 100%);
    color: white;
    border-radius: 50%;
    font-size: 2rem;
    font-weight: bold;
    margin-bottom: 15px;
}

.help-section {
    margin-bottom: 30px;
    padding-bottom: 20px;
    border-bottom: 1px solid #e9ecef;
}

.help-section:last-child {
    border-bottom: none;
}

.help-title {
    color: #0d6efd;
    font-weight: 700;
    margin-bottom: 15px;
}

.department-list {
    columns: 2;
    -webkit-columns: 2;
    -moz-columns: 2;
    column-gap: 30px;
}

.department-list li {
    margin-bottom: 8px;
    break-inside: avoid;
}

.faq-item {
    margin-bottom: 25px;
    padding: 20px;
    background-color: #f8f9fa;
    border-radius: 10px;
    border-left: 4px solid #ffc107;
}

.faq-question {
    color: #495057;
    font-weight: 700;
    margin-bottom: 10px;
}

.faq-answer {
    color: #6c757d;
    margin-bottom: 0;
    line-height: 1.6;
}

.learning-tips {
    line-height: 2;
}

.learning-tips li {
    margin-bottom: 10px;
}

.bg-purple {
    background-color: #6f42c1;
}

/* レスポンシブ対応 */
@media (max-width: 768px) {
    .department-list {
        columns: 1;
        -webkit-columns: 1;
        -moz-columns: 1;
    }

    .quick-start-step {
        margin-bottom: 15px;
    }

    .step-number {
        width: 50px;
        height: 50px;
        line-height: 50px;
        font-size: 1.5rem;
    }

    .help-title {
        font-size: 1.2rem;
    }
}
</style>
{% endblock %}

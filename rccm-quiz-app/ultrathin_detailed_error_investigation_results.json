{
  "timestamp": "2025-07-08T13:16:23.599910",
  "summary": {
    "total": 7,
    "successful": 1,
    "failed": 6,
    "success_rate": 14.285714285714285
  },
  "department_results": [
    {
      "department": "基礎科目",
      "description": "最も重要",
      "result": {
        "success": false,
        "content_length": 153,
        "http_status": 302,
        "redirect_info": [],
        "content_analysis": {
          "is_error_page": false,
          "has_title": true,
          "title_text": "405 Method Not Allowed",
          "has_question_content": false,
          "has_form_elements": false,
          "has_department_name": false,
          "error_messages": [],
          "found_elements": []
        },
        "raw_content": "<!doctype html>\n<html lang=en>\n<title>405 Method Not Allowed</title>\n<h1>Method Not Allowed</h1>\n<p>The method is not allowed for the requested URL.</p>\n"
      }
    },
    {
      "department": "道路",
      "description": "人気部門",
      "result": {
        "success": false,
        "content_length": 16903,
        "http_status": 200,
        "redirect_info": [],
        "content_analysis": {
          "is_error_page": true,
          "has_title": true,
          "title_text": "エラー | RCCM試験問題集",
          "has_question_content": true,
          "has_form_elements": true,
          "has_department_name": false,
          "error_messages": [],
          "found_elements": [
            "問題指標:問題",
            "問題指標:選択肢",
            "フォーム要素:<button"
          ]
        },
        "raw_content": "<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=3.0, user-scalable=yes, viewport-fit=cover\">\n    <title>エラー | RCCM試験問題集</title>\n    \n    <!-- 🔥 CRITICAL: 超強力キャッシュクリア（ユーザー要求による） -->\n    <meta http-equiv=\"Cache-Control\" content=\"no-store, no-cache, must-revalidate, max-age=0\">\n    <meta http-equiv=\"Pragma\" content=\"no-cache\">\n    <meta http-equiv=\"Expires\" content=\"-1\">\n    <script>\n        // 🔥 ページ読み込み時のキャッシュ強制クリア（ユーザー要求による）\n        (function() {\n            if (window.performance && window.performance.navigation.type === 2) {\n                // 戻るボタンでアクセスされた場合は強制リロード\n                window.location.reload(true);\n            }\n            // セッションストレージの問題関連データもクリア\n            if (typeof(Storage) !== \"undefined\") {\n                sessionStorage.removeItem('exam_data');\n                sessionStorage.removeItem('current_question');\n                sessionStorage.removeItem('question_answers');\n            }\n        })();\n    </script>\n    \n    <!-- PWA Manifest -->\n    <link rel=\"manifest\" href=\"/manifest.json\">\n    \n    <!-- アクセシビリティ改善 -->\n    <meta name=\"format-detection\" content=\"telephone=no\">\n    <meta name=\"apple-mobile-web-app-capable\" content=\"yes\">\n    <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"default\">\n    <meta name=\"apple-mobile-web-app-title\" content=\"RCCM試験問題集\">\n    <meta name=\"application-name\" content=\"RCCM問題集\">\n    <meta name=\"msapplication-TileColor\" content=\"#667eea\">\n    <meta name=\"theme-color\" content=\"#667eea\">\n    \n    <!-- Apple Touch Icons -->\n    <link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"/static/icons/apple-touch-icon.png\">\n    <link rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href=\"/static/icons/favicon-32x32.png\">\n    <link rel=\"icon\" type=\"image/png\" sizes=\"16x16\" href=\"/static/icons/favicon-16x16.png\">\n    \n    <!-- Preconnect for performance -->\n    <link rel=\"preconnect\" href=\"https://cdn.jsdelivr.net\">\n    <link rel=\"preconnect\" href=\"https://cdnjs.cloudflare.com\">\n    \n    <!-- Cache Control -->\n    <meta http-equiv=\"Cache-Control\" content=\"no-cache, no-store, must-revalidate\">\n    <meta http-equiv=\"Pragma\" content=\"no-cache\">\n    <meta http-equiv=\"Expires\" content=\"0\">\n    \n    <!-- CSS -->\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css\" \n          onerror=\"this.onerror=null;this.href='/static/fallback/bootstrap.min.css';\">\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\"\n          onerror=\"this.onerror=null;this.href='/static/fallback/font-awesome.min.css';\"  >\n    \n    <!-- ダークモード対応CSS -->\n    <style>\n    :root {\n      --bg-color: #ffffff;\n      --text-color: #1e293b;\n      --card-bg: #f8fafc;\n      --border-color: #e2e8f0;\n      /* モダン・シック・インテリジェンスなカラーパレット */\n      --primary-color: #334155; /* プロフェッショナルスレートグレー */\n      --secondary-color: #475569; /* エレガントグレー */\n      --success-color: #059669; /* 洗練されたエメラルド */\n      --danger-color: #dc2626; /* 控えめなレッド */\n      --warning-color: #d97706; /* インテリジェントアンバー */\n      --info-color: #0284c7; /* 知的ブルー */\n      --dark-color: #0f172a; /* ディープネイビー */\n      --light-color: #f1f5f9; /* ソフトグレー */\n      --text-muted-color: #64748b; /* 上品なミュート */\n      --accent-color: #6366f1; /* 知性のインディゴ */\n      --surface-color: #ffffff;\n    }\n\n    [data-theme=\"dark\"] {\n      --bg-color: #0f172a;\n      --text-color: #e2e8f0;\n      --card-bg: #1e293b;\n      --border-color: #334155;\n      /* ダークモード - エレガント&プロフェッショナル */\n      --primary-color: #64748b; /* ソフトスレート */\n      --secondary-color: #94a3b8; /* ライトグレー */\n      --success-color: #10b981; /* エメラルド */\n      --danger-color: #ef4444; /* 洗練されたレッド */\n      --warning-color: #f59e0b; /* ゴールド */\n      --info-color: #3b82f6; /* ブライトブルー */\n      --dark-color: #f1f5f9; /* ライトテキスト */\n      --light-color: #1e293b; /* ダークサーフェス */\n      --text-muted-color: #94a3b8; /* エレガントミュート */\n      --accent-color: #818cf8; /* ライトインディゴ */\n      --surface-color: #1e293b;\n    }\n\n    body { \n      background-color: var(--bg-color) !important; \n      color: var(--text-color) !important; \n    }\n\n    /* モダン&プロフェッショナルBootstrapカラー変数の上書き */\n    .btn-primary {\n        --bs-btn-bg: var(--primary-color);\n        --bs-btn-border-color: var(--primary-color);\n        --bs-btn-hover-bg: #1e293b;\n        --bs-btn-hover-border-color: #0f172a;\n        --bs-btn-active-bg: #0f172a;\n        --bs-btn-active-border-color: #020617;\n        color: white;\n        font-weight: 500;\n        border-radius: 0.5rem;\n    }\n    .btn-secondary {\n        --bs-btn-bg: var(--secondary-color);\n        --bs-btn-border-color: var(--secondary-color);\n        --bs-btn-hover-bg: #334155;\n        --bs-btn-hover-border-color: #1e293b;\n        --bs-btn-active-bg: #1e293b;\n        --bs-btn-active-border-color: #0f172a;\n        color: white;\n        font-weight: 500;\n        border-radius: 0.5rem;\n    }\n    .btn-success {\n        --bs-btn-bg: var(--success-color);\n        --bs-btn-border-color: var(--success-color);\n        --bs-btn-hover-bg: #047857;\n        --bs-btn-hover-border-color: #065f46;\n        --bs-btn-active-bg: #558b2f;\n        --bs-btn-active-border-color: #33691e;\n    }\n    .btn-danger {\n        --bs-btn-bg: var(--danger-color);\n        --bs-btn-border-color: var(--danger-color);\n        --bs-btn-hover-bg: #ff1744;\n        --bs-btn-hover-border-color: #d50000;\n        --bs-btn-active-bg: #c62828;\n        --bs-btn-active-border-color: #b71c1c;\n    }\n    .btn-warning {\n        --bs-btn-bg: var(--warning-color);\n        --bs-btn-border-color: var(--warning-color);\n        --bs-btn-hover-bg: #ffb300;\n        --bs-btn-hover-border-color: #ffa000;\n        --bs-btn-active-bg: #ff8f00;\n        --bs-btn-active-border-color: #ff6f00;\n        --bs-btn-color: #212529; /* 文字色を黒に */\n    }\n     .btn-info {\n        --bs-btn-bg: var(--info-color);\n        --bs-btn-border-color: var(--info-color);\n        --bs-btn-hover-bg: #1e88e5;\n        --bs-btn-hover-border-color: #1976d2;\n        --bs-btn-active-bg: #1565c0;\n        --bs-btn-active-border-color: #0d47a1;\n    }\n    .btn-dark {\n        --bs-btn-bg: var(--dark-color);\n        --bs-btn-border-color: var(--dark-color);\n        --bs-btn-hover-bg: #212529;\n        --bs-btn-hover-border-color: #1a1d20;\n        --bs-btn-active-bg: #1a1d20;\n        --bs-btn-active-border-color: #131619;\n    }\n\n    .card { \n      background-color: var(--card-bg) !important; \n      color: var(--text-color) !important;\n      border-color: var(--border-color) !important;\n    }\n\n    /* ナビゲーションバーの色 */\n    .navbar-custom {\n        background-color: var(--primary-color) !important;\n    }\n    .navbar-custom .nav-link, .navbar-custom .navbar-brand {\n        color: var(--light-color) !important;\n    }\n\n    [data-theme=\"dark\"] .card { \n      background-color: var(--card-bg) !important; \n      color: var(--text-color) !important;\n      border-color: var(--border-color) !important;\n    }\n    [data-theme=\"dark\"] .navbar-custom {\n      background-color: #0d1117 !important; /* ダークモード用ナビゲーションバー */\n    }\n    [data-theme=\"dark\"] .alert { \n      background-color: var(--card-bg) !important;\n      border-color: var(--border-color) !important;\n      color: var(--text-color) !important;\n    }\n    [data-theme=\"dark\"] .table { \n      color: var(--text-color) !important; \n    }\n    [data-theme=\"dark\"] .table td, [data-theme=\"dark\"] .table th { \n      border-color: var(--border-color) !important; \n    }\n\n    /* 今後開発予定の項目をグレーアウト */\n    .future-feature {\n        color: var(--text-muted-color) !important;\n        font-style: italic;\n    }\n    \n    /* 学習ストリーク表示スタイル */\n    .streak-display {\n      background: linear-gradient(45deg, #FF6B35, #F7931E);\n      color: white;\n      border-radius: 25px;\n      padding: 0.5rem 1rem;\n      font-weight: bold;\n      display: inline-block;\n      margin: 0.5rem 0;\n      animation: glow 2s ease-in-out infinite alternate;\n    }\n    \n    @keyframes glow {\n      from { box-shadow: 0 0 5px rgba(255, 107, 53, 0.3); }\n      to { box-shadow: 0 0 20px rgba(255, 107, 53, 0.6); }\n    }\n    \n    [data-theme=\"dark\"] .streak-display {\n      background: linear-gradient(45deg, #FF6B35, #F7931E);\n    }\n    \n    /* SRS用バッジ */\n    .badge.bg-gold {\n      background-color: #ffd700 !important;\n      color: #000 !important;\n    }\n\n    /* 解答結果画面のスタイル */\n    .card-correct {\n      border-color: var(--success-color) !important;\n      background-color: #d4edda !important; /* 淡い緑 */\n    }\n    .card-incorrect {\n      border-color: var(--danger-color) !important;\n      background-color: #f8d7da !important; /* 淡い赤 */\n    }\n    [data-theme=\"dark\"] .card-correct {\n      border-color: var(--success-color) !important;\n      background-color: #1e3c2f !important; /* ダークモード用の緑 */\n    }\n    [data-theme=\"dark\"] .card-incorrect {\n      border-color: var(--danger-color) !important;\n      background-color: #4e2b31 !important; /* ダークモード用の赤 */\n    }\n    \n    /* アクセシビリティ改善：大きなボタンクラス */\n    .btn-accessibility-lg {\n      min-height: 48px !important;\n      padding: 12px 24px !important;\n      font-size: 1.1rem !important;\n      font-weight: 500 !important;\n      border-radius: 8px !important;\n      transition: all 0.3s ease !important;\n    }\n    \n    .btn-accessibility-xl {\n      min-height: 56px !important;\n      padding: 16px 32px !important;\n      font-size: 1.25rem !important;\n      font-weight: 600 !important;\n      border-radius: 10px !important;\n      transition: all 0.3s ease !important;\n    }\n    \n    /* タッチターゲットサイズの確保（WCAG基準） */\n    .touch-target {\n      min-width: 44px !important;\n      min-height: 44px !important;\n    }\n    \n    /* フォーカスインジケーターの強化 */\n    button:focus,\n    input:focus,\n    select:focus,\n    textarea:focus,\n    a:focus {\n      outline: 3px solid var(--accent-color) !important;\n      outline-offset: 2px !important;\n    }\n    \n    /* シニアユーザー向けの読みやすいフォントサイズ */\n    @media (min-width: 768px) {\n      .senior-friendly {\n        font-size: 1.125rem !important;\n        line-height: 1.75 !important;\n      }\n    }\n    \n    /* 🔥 ULTRA SYNC MOBILE OPTIMIZATION: モバイル最適化強化 */\n    /* タッチデバイス向け最適化 */\n    @media (hover: none) and (pointer: coarse) {\n      /* タッチレスポンス向上 */\n      * {\n        -webkit-touch-callout: none;\n        -webkit-tap-highlight-color: rgba(0,0,0,0.1);\n      }\n      \n      /* ボタンタッチ時のフィードバック */\n      .btn:active {\n        transform: scale(0.95) !important;\n        transition: transform 0.1s ease !important;\n      }\n      \n      /* 選択肢タッチ時のフィードバック */\n      .option-item:active {\n        background-color: #e3f2fd !important;\n        transform: scale(0.98) !important;\n        transition: all 0.1s ease !important;\n      }\n      \n      /* タッチターゲットサイズ強制拡大 */\n      .btn, .option-item, .nav-link, .card, input, select, textarea {\n        min-height: 44px !important;\n        min-width: 44px !important;\n      }\n    }\n    \n    /* 極小画面（320px以下）対応 */\n    @media (max-width: 320px) {\n      .container {\n        padding: 0.25rem !important;\n      }\n      \n      .btn {\n        font-size: 0.85rem !important;\n        padding: 0.5rem 0.75rem !important;\n      }\n      \n      .card {\n        margin-bottom: 0.75rem !important;\n      }\n      \n      .card-body {\n        padding: 0.75rem !important;\n      }\n      \n      h1 { font-size: 1.5rem !important; }\n      h2 { font-size: 1.25rem !important; }\n      h3 { font-size: 1.125rem !important; }\n    }\n    \n    /* 横向き時の最適化 */\n    @media (orientation: landscape) and (max-height: 500px) {\n      .navbar {\n        padding: 0.25rem 0 !important;\n      }\n      \n      .container {\n        padding-top: 0.5rem !important;\n      }\n      \n      .card {\n        margin-bottom: 0.5rem !important;\n      }\n    }\n    \n    /* iOS Safari対応 */\n    @supports (-webkit-touch-callout: none) {\n      /* iOS Safari特有の問題対応 */\n      input, textarea, select {\n        font-size: 16px !important; /* ズーム防止 */\n      }\n      \n      /* Safe Area対応 */\n      .container {\n        padding-left: max(1rem, env(safe-area-inset-left)) !important;\n        padding-right: max(1rem, env(safe-area-inset-right)) !important;\n        padding-bottom: max(1rem, env(safe-area-inset-bottom)) !important;\n      }\n    }\n    </style>\n\n    <!-- Service Worker & PWA 登録 -->\n    <script>\n      if ('serviceWorker' in navigator) {\n        window.addEventListener('load', function() {\n          navigator.serviceWorker.register('/static/sw.js')\n            .then(function(registration) {\n            })\n            .catch(function(error) {\n            });\n        });\n      }\n    </script>\n    \n</head>\n<body>\n<nav class=\"navbar navbar-expand-lg navbar-custom mb-4\">\n  <div class=\"container-fluid\">\n    <a class=\"navbar-brand\" href=\"/\" style=\"color: white !important;\">RCCM試験問題集</a>\n    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n      <span class=\"navbar-toggler-icon\"></span>\n    </button>\n    <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\n      <ul class=\"navbar-nav\">\n        <li class=\"nav-item\"><a class=\"nav-link\" href=\"/statistics\" style=\"color: white !important;\">解答結果分析</a></li>\n        <li class=\"nav-item\"><a class=\"nav-link\" href=\"/categories\" style=\"color: white !important;\">部門別</a></li>\n        <li class=\"nav-item\"><a class=\"nav-link\" href=\"/review\" style=\"color: white !important;\">復習リスト</a></li>\n        <li class=\"nav-item\"><a class=\"nav-link\" href=\"/reset\" style=\"color: white !important;\">リセット</a></li>\n        <li class=\"nav-item\"><a class=\"nav-link\" href=\"/settings\" style=\"color: white !important;\"><i class=\"fas fa-cog me-1\"></i>設定</a></li>\n        <li class=\"nav-item\"><a class=\"nav-link\" href=\"/help\" style=\"color: white !important;\">ヘルプ</a></li>\n        <li class=\"nav-item ms-2\">\n          <button class=\"btn btn-outline-light btn-sm\" onclick=\"toggleTheme()\" id=\"themeToggle\" title=\"ダークモード切替\">\n            🌙\n          </button>\n        </li>\n        <li class=\"nav-item ms-2\">\n          <span class=\"navbar-text text-light small\" id=\"sessionStatus\" title=\"セッション状態\">\n            <i class=\"fas fa-clock me-1\"></i>セッション確認中...\n          </span>\n        </li>\n      </ul>\n    </div>\n  </div>\n</nav>\n<div class=\"container\">\n  \n    \n  \n  \n<div class=\"container mt-4\">\n    <div class=\"row justify-content-center\">\n        <div class=\"col-md-8\">\n            <div class=\"card border-danger\">\n                <div class=\"card-header bg-danger text-white\">\n                    <h4 class=\"mb-0\">\n                        <i class=\"fas fa-exclamation-triangle me-2\"></i>処理中に問題が発生しました\n                    </h4>\n                </div>\n                <div class=\"card-body\">\n                    <div class=\"alert alert-danger border-0\" style=\"background-color: #f8d7da;\">\n                        <p class=\"mb-0\"><strong>問題データが存在しません。</strong></p>\n                    </div>\n                    \n                    <div class=\"mt-3\">\n                        <h6>よくある対処方法：</h6>\n                        <ul class=\"mb-3\">\n                            <li>ページを再読み込みしてください</li>\n                            <li>ブラウザの戻るボタンで前のページに戻ってください</li>\n                            <li>問題が続く場合は、ホームページから改めてお試しください</li>\n                            <li>復習機能をお使いの場合、先に問題を解いて復習登録してください</li>\n                        </ul>\n                    </div>\n                    \n                    <div class=\"d-flex gap-2 flex-wrap\">\n                        <a href=\"/\" class=\"btn btn-primary\">\n                            <i class=\"fas fa-home me-2\"></i>ホームページ\n                        </a>\n                        <button onclick=\"history.back()\" class=\"btn btn-outline-secondary\">\n                            <i class=\"fas fa-arrow-left me-2\"></i>前のページに戻る\n                        </button>\n                        <button onclick=\"location.reload()\" class=\"btn btn-outline-info\">\n                            <i class=\"fas fa-sync-alt me-2\"></i>ページを再読み込み\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n</div>\n<footer class=\"text-center mt-4 mb-2 text-muted\">\n  RCCM試験問題集 &copy; 2025\n</footer>\n<script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js\" \n        onerror=\"this.onerror=null; var s=document.createElement('script'); s.src='/static/fallback/bootstrap.bundle.min.js'; document.head.appendChild(s);\"></script>\n<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"\n        onerror=\"this.onerror=null; var s=document.createElement('script'); s.src='/static/fallback/chart.min.js'; document.head.appendChild(s);\"></script>\n\n<!-- メインJavaScript（分離版） -->\n<script src=\"/static/js/main.js\"></script>\n\n<!-- モバイル機能JavaScript -->\n<script src=\"/static/js/mobile-features.js\"></script>\n\n<!-- セッションタイムアウト管理JavaScript -->\n<script src=\"/static/js/session-timeout.js\"></script>\n\n\n</body>\n</html> "
      }
    },
    {
      "department": "河川・砂防",
      "description": "専門部門",
      "result": {
        "success": false,
        "content_length": 16903,
        "http_status": 200,
        "redirect_info": [],
        "content_analysis": {
          "is_error_page": true,
          "has_title": true,
          "title_text": "エラー | RCCM試験問題集",
          "has_question_content": true,
          "has_form_elements": true,
          "has_department_name": false,
          "error_messages": [],
          "found_elements": [
            "問題指標:問題",
            "問題指標:選択肢",
            "フォーム要素:<button"
          ]
        },
        "raw_content": "<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=3.0, user-scalable=yes, viewport-fit=cover\">\n    <title>エラー | RCCM試験問題集</title>\n    \n    <!-- 🔥 CRITICAL: 超強力キャッシュクリア（ユーザー要求による） -->\n    <meta http-equiv=\"Cache-Control\" content=\"no-store, no-cache, must-revalidate, max-age=0\">\n    <meta http-equiv=\"Pragma\" content=\"no-cache\">\n    <meta http-equiv=\"Expires\" content=\"-1\">\n    <script>\n        // 🔥 ページ読み込み時のキャッシュ強制クリア（ユーザー要求による）\n        (function() {\n            if (window.performance && window.performance.navigation.type === 2) {\n                // 戻るボタンでアクセスされた場合は強制リロード\n                window.location.reload(true);\n            }\n            // セッションストレージの問題関連データもクリア\n            if (typeof(Storage) !== \"undefined\") {\n                sessionStorage.removeItem('exam_data');\n                sessionStorage.removeItem('current_question');\n                sessionStorage.removeItem('question_answers');\n            }\n        })();\n    </script>\n    \n    <!-- PWA Manifest -->\n    <link rel=\"manifest\" href=\"/manifest.json\">\n    \n    <!-- アクセシビリティ改善 -->\n    <meta name=\"format-detection\" content=\"telephone=no\">\n    <meta name=\"apple-mobile-web-app-capable\" content=\"yes\">\n    <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"default\">\n    <meta name=\"apple-mobile-web-app-title\" content=\"RCCM試験問題集\">\n    <meta name=\"application-name\" content=\"RCCM問題集\">\n    <meta name=\"msapplication-TileColor\" content=\"#667eea\">\n    <meta name=\"theme-color\" content=\"#667eea\">\n    \n    <!-- Apple Touch Icons -->\n    <link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"/static/icons/apple-touch-icon.png\">\n    <link rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href=\"/static/icons/favicon-32x32.png\">\n    <link rel=\"icon\" type=\"image/png\" sizes=\"16x16\" href=\"/static/icons/favicon-16x16.png\">\n    \n    <!-- Preconnect for performance -->\n    <link rel=\"preconnect\" href=\"https://cdn.jsdelivr.net\">\n    <link rel=\"preconnect\" href=\"https://cdnjs.cloudflare.com\">\n    \n    <!-- Cache Control -->\n    <meta http-equiv=\"Cache-Control\" content=\"no-cache, no-store, must-revalidate\">\n    <meta http-equiv=\"Pragma\" content=\"no-cache\">\n    <meta http-equiv=\"Expires\" content=\"0\">\n    \n    <!-- CSS -->\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css\" \n          onerror=\"this.onerror=null;this.href='/static/fallback/bootstrap.min.css';\">\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\"\n          onerror=\"this.onerror=null;this.href='/static/fallback/font-awesome.min.css';\"  >\n    \n    <!-- ダークモード対応CSS -->\n    <style>\n    :root {\n      --bg-color: #ffffff;\n      --text-color: #1e293b;\n      --card-bg: #f8fafc;\n      --border-color: #e2e8f0;\n      /* モダン・シック・インテリジェンスなカラーパレット */\n      --primary-color: #334155; /* プロフェッショナルスレートグレー */\n      --secondary-color: #475569; /* エレガントグレー */\n      --success-color: #059669; /* 洗練されたエメラルド */\n      --danger-color: #dc2626; /* 控えめなレッド */\n      --warning-color: #d97706; /* インテリジェントアンバー */\n      --info-color: #0284c7; /* 知的ブルー */\n      --dark-color: #0f172a; /* ディープネイビー */\n      --light-color: #f1f5f9; /* ソフトグレー */\n      --text-muted-color: #64748b; /* 上品なミュート */\n      --accent-color: #6366f1; /* 知性のインディゴ */\n      --surface-color: #ffffff;\n    }\n\n    [data-theme=\"dark\"] {\n      --bg-color: #0f172a;\n      --text-color: #e2e8f0;\n      --card-bg: #1e293b;\n      --border-color: #334155;\n      /* ダークモード - エレガント&プロフェッショナル */\n      --primary-color: #64748b; /* ソフトスレート */\n      --secondary-color: #94a3b8; /* ライトグレー */\n      --success-color: #10b981; /* エメラルド */\n      --danger-color: #ef4444; /* 洗練されたレッド */\n      --warning-color: #f59e0b; /* ゴールド */\n      --info-color: #3b82f6; /* ブライトブルー */\n      --dark-color: #f1f5f9; /* ライトテキスト */\n      --light-color: #1e293b; /* ダークサーフェス */\n      --text-muted-color: #94a3b8; /* エレガントミュート */\n      --accent-color: #818cf8; /* ライトインディゴ */\n      --surface-color: #1e293b;\n    }\n\n    body { \n      background-color: var(--bg-color) !important; \n      color: var(--text-color) !important; \n    }\n\n    /* モダン&プロフェッショナルBootstrapカラー変数の上書き */\n    .btn-primary {\n        --bs-btn-bg: var(--primary-color);\n        --bs-btn-border-color: var(--primary-color);\n        --bs-btn-hover-bg: #1e293b;\n        --bs-btn-hover-border-color: #0f172a;\n        --bs-btn-active-bg: #0f172a;\n        --bs-btn-active-border-color: #020617;\n        color: white;\n        font-weight: 500;\n        border-radius: 0.5rem;\n    }\n    .btn-secondary {\n        --bs-btn-bg: var(--secondary-color);\n        --bs-btn-border-color: var(--secondary-color);\n        --bs-btn-hover-bg: #334155;\n        --bs-btn-hover-border-color: #1e293b;\n        --bs-btn-active-bg: #1e293b;\n        --bs-btn-active-border-color: #0f172a;\n        color: white;\n        font-weight: 500;\n        border-radius: 0.5rem;\n    }\n    .btn-success {\n        --bs-btn-bg: var(--success-color);\n        --bs-btn-border-color: var(--success-color);\n        --bs-btn-hover-bg: #047857;\n        --bs-btn-hover-border-color: #065f46;\n        --bs-btn-active-bg: #558b2f;\n        --bs-btn-active-border-color: #33691e;\n    }\n    .btn-danger {\n        --bs-btn-bg: var(--danger-color);\n        --bs-btn-border-color: var(--danger-color);\n        --bs-btn-hover-bg: #ff1744;\n        --bs-btn-hover-border-color: #d50000;\n        --bs-btn-active-bg: #c62828;\n        --bs-btn-active-border-color: #b71c1c;\n    }\n    .btn-warning {\n        --bs-btn-bg: var(--warning-color);\n        --bs-btn-border-color: var(--warning-color);\n        --bs-btn-hover-bg: #ffb300;\n        --bs-btn-hover-border-color: #ffa000;\n        --bs-btn-active-bg: #ff8f00;\n        --bs-btn-active-border-color: #ff6f00;\n        --bs-btn-color: #212529; /* 文字色を黒に */\n    }\n     .btn-info {\n        --bs-btn-bg: var(--info-color);\n        --bs-btn-border-color: var(--info-color);\n        --bs-btn-hover-bg: #1e88e5;\n        --bs-btn-hover-border-color: #1976d2;\n        --bs-btn-active-bg: #1565c0;\n        --bs-btn-active-border-color: #0d47a1;\n    }\n    .btn-dark {\n        --bs-btn-bg: var(--dark-color);\n        --bs-btn-border-color: var(--dark-color);\n        --bs-btn-hover-bg: #212529;\n        --bs-btn-hover-border-color: #1a1d20;\n        --bs-btn-active-bg: #1a1d20;\n        --bs-btn-active-border-color: #131619;\n    }\n\n    .card { \n      background-color: var(--card-bg) !important; \n      color: var(--text-color) !important;\n      border-color: var(--border-color) !important;\n    }\n\n    /* ナビゲーションバーの色 */\n    .navbar-custom {\n        background-color: var(--primary-color) !important;\n    }\n    .navbar-custom .nav-link, .navbar-custom .navbar-brand {\n        color: var(--light-color) !important;\n    }\n\n    [data-theme=\"dark\"] .card { \n      background-color: var(--card-bg) !important; \n      color: var(--text-color) !important;\n      border-color: var(--border-color) !important;\n    }\n    [data-theme=\"dark\"] .navbar-custom {\n      background-color: #0d1117 !important; /* ダークモード用ナビゲーションバー */\n    }\n    [data-theme=\"dark\"] .alert { \n      background-color: var(--card-bg) !important;\n      border-color: var(--border-color) !important;\n      color: var(--text-color) !important;\n    }\n    [data-theme=\"dark\"] .table { \n      color: var(--text-color) !important; \n    }\n    [data-theme=\"dark\"] .table td, [data-theme=\"dark\"] .table th { \n      border-color: var(--border-color) !important; \n    }\n\n    /* 今後開発予定の項目をグレーアウト */\n    .future-feature {\n        color: var(--text-muted-color) !important;\n        font-style: italic;\n    }\n    \n    /* 学習ストリーク表示スタイル */\n    .streak-display {\n      background: linear-gradient(45deg, #FF6B35, #F7931E);\n      color: white;\n      border-radius: 25px;\n      padding: 0.5rem 1rem;\n      font-weight: bold;\n      display: inline-block;\n      margin: 0.5rem 0;\n      animation: glow 2s ease-in-out infinite alternate;\n    }\n    \n    @keyframes glow {\n      from { box-shadow: 0 0 5px rgba(255, 107, 53, 0.3); }\n      to { box-shadow: 0 0 20px rgba(255, 107, 53, 0.6); }\n    }\n    \n    [data-theme=\"dark\"] .streak-display {\n      background: linear-gradient(45deg, #FF6B35, #F7931E);\n    }\n    \n    /* SRS用バッジ */\n    .badge.bg-gold {\n      background-color: #ffd700 !important;\n      color: #000 !important;\n    }\n\n    /* 解答結果画面のスタイル */\n    .card-correct {\n      border-color: var(--success-color) !important;\n      background-color: #d4edda !important; /* 淡い緑 */\n    }\n    .card-incorrect {\n      border-color: var(--danger-color) !important;\n      background-color: #f8d7da !important; /* 淡い赤 */\n    }\n    [data-theme=\"dark\"] .card-correct {\n      border-color: var(--success-color) !important;\n      background-color: #1e3c2f !important; /* ダークモード用の緑 */\n    }\n    [data-theme=\"dark\"] .card-incorrect {\n      border-color: var(--danger-color) !important;\n      background-color: #4e2b31 !important; /* ダークモード用の赤 */\n    }\n    \n    /* アクセシビリティ改善：大きなボタンクラス */\n    .btn-accessibility-lg {\n      min-height: 48px !important;\n      padding: 12px 24px !important;\n      font-size: 1.1rem !important;\n      font-weight: 500 !important;\n      border-radius: 8px !important;\n      transition: all 0.3s ease !important;\n    }\n    \n    .btn-accessibility-xl {\n      min-height: 56px !important;\n      padding: 16px 32px !important;\n      font-size: 1.25rem !important;\n      font-weight: 600 !important;\n      border-radius: 10px !important;\n      transition: all 0.3s ease !important;\n    }\n    \n    /* タッチターゲットサイズの確保（WCAG基準） */\n    .touch-target {\n      min-width: 44px !important;\n      min-height: 44px !important;\n    }\n    \n    /* フォーカスインジケーターの強化 */\n    button:focus,\n    input:focus,\n    select:focus,\n    textarea:focus,\n    a:focus {\n      outline: 3px solid var(--accent-color) !important;\n      outline-offset: 2px !important;\n    }\n    \n    /* シニアユーザー向けの読みやすいフォントサイズ */\n    @media (min-width: 768px) {\n      .senior-friendly {\n        font-size: 1.125rem !important;\n        line-height: 1.75 !important;\n      }\n    }\n    \n    /* 🔥 ULTRA SYNC MOBILE OPTIMIZATION: モバイル最適化強化 */\n    /* タッチデバイス向け最適化 */\n    @media (hover: none) and (pointer: coarse) {\n      /* タッチレスポンス向上 */\n      * {\n        -webkit-touch-callout: none;\n        -webkit-tap-highlight-color: rgba(0,0,0,0.1);\n      }\n      \n      /* ボタンタッチ時のフィードバック */\n      .btn:active {\n        transform: scale(0.95) !important;\n        transition: transform 0.1s ease !important;\n      }\n      \n      /* 選択肢タッチ時のフィードバック */\n      .option-item:active {\n        background-color: #e3f2fd !important;\n        transform: scale(0.98) !important;\n        transition: all 0.1s ease !important;\n      }\n      \n      /* タッチターゲットサイズ強制拡大 */\n      .btn, .option-item, .nav-link, .card, input, select, textarea {\n        min-height: 44px !important;\n        min-width: 44px !important;\n      }\n    }\n    \n    /* 極小画面（320px以下）対応 */\n    @media (max-width: 320px) {\n      .container {\n        padding: 0.25rem !important;\n      }\n      \n      .btn {\n        font-size: 0.85rem !important;\n        padding: 0.5rem 0.75rem !important;\n      }\n      \n      .card {\n        margin-bottom: 0.75rem !important;\n      }\n      \n      .card-body {\n        padding: 0.75rem !important;\n      }\n      \n      h1 { font-size: 1.5rem !important; }\n      h2 { font-size: 1.25rem !important; }\n      h3 { font-size: 1.125rem !important; }\n    }\n    \n    /* 横向き時の最適化 */\n    @media (orientation: landscape) and (max-height: 500px) {\n      .navbar {\n        padding: 0.25rem 0 !important;\n      }\n      \n      .container {\n        padding-top: 0.5rem !important;\n      }\n      \n      .card {\n        margin-bottom: 0.5rem !important;\n      }\n    }\n    \n    /* iOS Safari対応 */\n    @supports (-webkit-touch-callout: none) {\n      /* iOS Safari特有の問題対応 */\n      input, textarea, select {\n        font-size: 16px !important; /* ズーム防止 */\n      }\n      \n      /* Safe Area対応 */\n      .container {\n        padding-left: max(1rem, env(safe-area-inset-left)) !important;\n        padding-right: max(1rem, env(safe-area-inset-right)) !important;\n        padding-bottom: max(1rem, env(safe-area-inset-bottom)) !important;\n      }\n    }\n    </style>\n\n    <!-- Service Worker & PWA 登録 -->\n    <script>\n      if ('serviceWorker' in navigator) {\n        window.addEventListener('load', function() {\n          navigator.serviceWorker.register('/static/sw.js')\n            .then(function(registration) {\n            })\n            .catch(function(error) {\n            });\n        });\n      }\n    </script>\n    \n</head>\n<body>\n<nav class=\"navbar navbar-expand-lg navbar-custom mb-4\">\n  <div class=\"container-fluid\">\n    <a class=\"navbar-brand\" href=\"/\" style=\"color: white !important;\">RCCM試験問題集</a>\n    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n      <span class=\"navbar-toggler-icon\"></span>\n    </button>\n    <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\n      <ul class=\"navbar-nav\">\n        <li class=\"nav-item\"><a class=\"nav-link\" href=\"/statistics\" style=\"color: white !important;\">解答結果分析</a></li>\n        <li class=\"nav-item\"><a class=\"nav-link\" href=\"/categories\" style=\"color: white !important;\">部門別</a></li>\n        <li class=\"nav-item\"><a class=\"nav-link\" href=\"/review\" style=\"color: white !important;\">復習リスト</a></li>\n        <li class=\"nav-item\"><a class=\"nav-link\" href=\"/reset\" style=\"color: white !important;\">リセット</a></li>\n        <li class=\"nav-item\"><a class=\"nav-link\" href=\"/settings\" style=\"color: white !important;\"><i class=\"fas fa-cog me-1\"></i>設定</a></li>\n        <li class=\"nav-item\"><a class=\"nav-link\" href=\"/help\" style=\"color: white !important;\">ヘルプ</a></li>\n        <li class=\"nav-item ms-2\">\n          <button class=\"btn btn-outline-light btn-sm\" onclick=\"toggleTheme()\" id=\"themeToggle\" title=\"ダークモード切替\">\n            🌙\n          </button>\n        </li>\n        <li class=\"nav-item ms-2\">\n          <span class=\"navbar-text text-light small\" id=\"sessionStatus\" title=\"セッション状態\">\n            <i class=\"fas fa-clock me-1\"></i>セッション確認中...\n          </span>\n        </li>\n      </ul>\n    </div>\n  </div>\n</nav>\n<div class=\"container\">\n  \n    \n  \n  \n<div class=\"container mt-4\">\n    <div class=\"row justify-content-center\">\n        <div class=\"col-md-8\">\n            <div class=\"card border-danger\">\n                <div class=\"card-header bg-danger text-white\">\n                    <h4 class=\"mb-0\">\n                        <i class=\"fas fa-exclamation-triangle me-2\"></i>処理中に問題が発生しました\n                    </h4>\n                </div>\n                <div class=\"card-body\">\n                    <div class=\"alert alert-danger border-0\" style=\"background-color: #f8d7da;\">\n                        <p class=\"mb-0\"><strong>問題データが存在しません。</strong></p>\n                    </div>\n                    \n                    <div class=\"mt-3\">\n                        <h6>よくある対処方法：</h6>\n                        <ul class=\"mb-3\">\n                            <li>ページを再読み込みしてください</li>\n                            <li>ブラウザの戻るボタンで前のページに戻ってください</li>\n                            <li>問題が続く場合は、ホームページから改めてお試しください</li>\n                            <li>復習機能をお使いの場合、先に問題を解いて復習登録してください</li>\n                        </ul>\n                    </div>\n                    \n                    <div class=\"d-flex gap-2 flex-wrap\">\n                        <a href=\"/\" class=\"btn btn-primary\">\n                            <i class=\"fas fa-home me-2\"></i>ホームページ\n                        </a>\n                        <button onclick=\"history.back()\" class=\"btn btn-outline-secondary\">\n                            <i class=\"fas fa-arrow-left me-2\"></i>前のページに戻る\n                        </button>\n                        <button onclick=\"location.reload()\" class=\"btn btn-outline-info\">\n                            <i class=\"fas fa-sync-alt me-2\"></i>ページを再読み込み\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n</div>\n<footer class=\"text-center mt-4 mb-2 text-muted\">\n  RCCM試験問題集 &copy; 2025\n</footer>\n<script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js\" \n        onerror=\"this.onerror=null; var s=document.createElement('script'); s.src='/static/fallback/bootstrap.bundle.min.js'; document.head.appendChild(s);\"></script>\n<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"\n        onerror=\"this.onerror=null; var s=document.createElement('script'); s.src='/static/fallback/chart.min.js'; document.head.appendChild(s);\"></script>\n\n<!-- メインJavaScript（分離版） -->\n<script src=\"/static/js/main.js\"></script>\n\n<!-- モバイル機能JavaScript -->\n<script src=\"/static/js/mobile-features.js\"></script>\n\n<!-- セッションタイムアウト管理JavaScript -->\n<script src=\"/static/js/session-timeout.js\"></script>\n\n\n</body>\n</html> "
      }
    }
  ],
  "investigation_results": [
    {
      "step": "セッション初期化",
      "success": true,
      "details": "Cookie保存完了",
      "content_sample": "",
      "timestamp": "2025-07-08T13:16:19.431463"
    },
    {
      "step": "基礎科目_詳細調査",
      "success": false,
      "details": "HTTP: 302, サイズ: 153, リダイレクト: 0回, エラーページ: いいえ",
      "content_sample": "<!doctype html>\n<html lang=en>\n<title>405 Method Not Allowed</title>\n<h1>Method Not Allowed</h1>\n<p>The method is not allowed for the requested URL.</p>\n",
      "timestamp": "2025-07-08T13:16:20.307277"
    },
    {
      "step": "道路_詳細調査",
      "success": false,
      "details": "HTTP: 200, サイズ: 16903, リダイレクト: 0回, エラーページ: はい",
      "content_sample": "<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=3.0, user-scalable=yes, viewport-fit=cover\">\n    <title>エラー | RCCM試験問題集</title>\n    \n    <!-- 🔥 CRITICAL: 超強力キャッシュクリア（ユーザー要求による） -->\n    <meta ht",
      "timestamp": "2025-07-08T13:16:20.574677"
    },
    {
      "step": "河川・砂防_詳細調査",
      "success": false,
      "details": "HTTP: 200, サイズ: 16903, リダイレクト: 0回, エラーページ: はい",
      "content_sample": "<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=3.0, user-scalable=yes, viewport-fit=cover\">\n    <title>エラー | RCCM試験問題集</title>\n    \n    <!-- 🔥 CRITICAL: 超強力キャッシュクリア（ユーザー要求による） -->\n    <meta ht",
      "timestamp": "2025-07-08T13:16:20.879620"
    },
    {
      "step": "基礎科目_詳細調査",
      "success": false,
      "details": "HTTP: 302, サイズ: 153, リダイレクト: 0回, エラーページ: いいえ",
      "content_sample": "<!doctype html>\n<html lang=en>\n<title>405 Method Not Allowed</title>\n<h1>Method Not Allowed</h1>\n<p>The method is not allowed for the requested URL.</p>\n",
      "timestamp": "2025-07-08T13:16:21.735622"
    },
    {
      "step": "基礎科目_詳細調査",
      "success": false,
      "details": "HTTP: 302, サイズ: 153, リダイレクト: 0回, エラーページ: いいえ",
      "content_sample": "<!doctype html>\n<html lang=en>\n<title>405 Method Not Allowed</title>\n<h1>Method Not Allowed</h1>\n<p>The method is not allowed for the requested URL.</p>\n",
      "timestamp": "2025-07-08T13:16:22.690673"
    },
    {
      "step": "基礎科目_詳細調査",
      "success": false,
      "details": "HTTP: 302, サイズ: 153, リダイレクト: 0回, エラーページ: いいえ",
      "content_sample": "<!doctype html>\n<html lang=en>\n<title>405 Method Not Allowed</title>\n<h1>Method Not Allowed</h1>\n<p>The method is not allowed for the requested URL.</p>\n",
      "timestamp": "2025-07-08T13:16:23.596386"
    }
  ]
}
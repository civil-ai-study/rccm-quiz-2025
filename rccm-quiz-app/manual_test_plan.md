# 🧪 手動テスト計画書 - 問題進行修正検証

## 📋 テスト概要
**目的**: exam_feedback.html修正後の問題進行が正常動作することを確認  
**修正内容**: line 131のインデックス計算バグ修正  
**対象**: 全13部門の問題進行システム

## 🎯 テスト対象部門

### 基礎科目（4-1）
- **データファイル**: data/4-1.csv
- **問題数**: 確認必要
- **テストケース**: 10問/20問/30問モード

### 専門科目（4-2）各部門
1. 道路部門
2. 河川・砂防部門  
3. 都市計画部門
4. 造園部門
5. 建設環境部門
6. 鋼構造・コンクリート部門
7. 土質・基礎部門
8. 施工計画部門
9. 上下水道部門
10. 森林土木部門
11. 農業土木部門
12. トンネル部門

## ✅ 手動テスト手順

### 各部門で実行するテスト

#### 1. セッション初期化テスト
- [ ] ホーム画面から部門選択
- [ ] 10問モード選択
- [ ] セッション正常開始確認

#### 2. 問題進行テスト
- [ ] 1問目→2問目への移行確認
- [ ] 進捗表示「1/10」→「2/10」更新確認
- [ ] URLパラメータ正確性確認
- [ ] 「次の問題へ」ボタン正常表示確認

#### 3. 問題重複確認テスト
- [ ] ❌ 修正前: 同じ問題が連続表示
- [ ] ✅ 修正後: 異なる問題が順次表示

#### 4. 最終問題テスト
- [ ] 10問目完了時の「結果を見る」ボタン表示
- [ ] 結果画面への正常遷移
- [ ] スコア計算正確性

## 🚨 重要確認ポイント

### Before/After比較
**修正前の問題**:
- 2問目以降で同じ問題が繰り返し表示
- 進捗カウンターが「1/10」で停止
- ユーザーが同じ問題を何度も解く状況

**修正後の期待結果**:
- 各問題が1回ずつ順次表示
- 進捗カウンターが正常更新（1/10→2/10→...→10/10）
- 異なる問題が継続的に配信

### 技術的確認事項
```html
修正箇所: exam_feedback.html line 131
修正前: {% set next_index = next_question_index if next_question_index is defined and next_question_index is not none else (question_num) %}
修正後: {% set next_index = next_question_index if next_question_index is defined and next_question_index is not none else (current_question_number) %}
```

## 📊 テスト結果記録フォーマット

### 部門別テスト結果
```
✅ [部門名] - 問題進行テスト
├── セッション初期化: ✅/❌
├── 1→2問目移行: ✅/❌  
├── 進捗表示更新: ✅/❌
├── 問題重複なし: ✅/❌
└── 最終問題処理: ✅/❌

詳細:
- 確認した問題数: X問
- 発見した問題: [具体的内容]
- 動作確認済み機能: [リスト]
```

## 🎯 成功基準

### 必須達成事項
- [ ] 全13部門で問題重複ゼロ
- [ ] 進捗表示が正確に更新
- [ ] 最終問題で適切な終了処理
- [ ] 副作用なし（既存機能影響なし）

### 品質基準
- **問題進行成功率**: 100%
- **ユーザー体験**: 改善確認
- **パフォーマンス**: 従来と同等以上

## 🔄 継続的監視

### 長期テスト
- [ ] 複数セッション連続実行
- [ ] 異なるブラウザでの動作確認
- [ ] モバイルデバイスでの確認

### 回帰テスト
- [ ] 他の機能への影響確認
- [ ] エラーハンドリング動作確認
- [ ] データ整合性維持確認

---

**このテスト計画に従って、修正効果を総合的に検証し、CLAUDE.md基準の品質を確保します。**